package MiuMiuShop.Service.User;

import org.springframework.stereotype.Service;

import MiuMiuShop.Dto.PaginatesDto;
@Service
public class PaginateServiceImpl {
	public PaginatesDto GetInfoPaginates(int totalData, int limit, int currentPage){
		PaginatesDto paginate = new PaginatesDto();
		paginate.setLimit(limit);
		
		Integer total = SetInfoTotalPage(totalData, limit);
		paginate.setTotalPage(total);
		
		paginate.setCurrentPage(CheckCurrentPage(currentPage, paginate.getTotalPage()));
		
		
		return paginate;
	}

	private int SetInfoTotalPage(int totalData, int limit) {
		int totalPage =0;
		totalPage = totalData/limit;
		totalPage = totalPage*limit < totalData ? totalPage + 1 : totalPage;
		return totalPage;
		
	}
	
	public int CheckCurrentPage(int currentPage, int totalPage)
	{
		if(currentPage < 1)
		{
			return 1;
		}
		
		if(currentPage > totalPage)
		{
			return totalPage;
		}
		
		return currentPage;
	}
}
